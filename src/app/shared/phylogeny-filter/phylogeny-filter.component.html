<div class="row">
    <div class="col-md-12 col-sm-6">
        <div class="card bg-lite mb-3 filter-top">
            <h3 class="card-header filter-heading">
                <span>Phylogeny</span>
            </h3>
            <ul id="ontology-inactive" class="list-group">
                @if (isFilterSelected && filterService.selectedFilterValue!== undefined) {
                    <li
                        class="rank-heading list-group-item"> {{filterService.selectedFilterValue.rank | uppercase}}
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center kingdom active-filter"
                        style="cursor: pointer; padding: .75rem 0.25rem;"
                        id="{{filterService.selectedFilterValue.taxonomy}}-kingdom"
                        (click)="showTaxonomyModal($event, currentTaxonomy.rank, currentTaxonomy.taxonomy, 'subkingdom')">
                        {{filterService.selectedFilterValue.taxonomy}} ({{filterService.selectedFilterValue.commonName}})
                        @if (isShowCount === true) {
                            <span class="badge badge-pill badge-info">{{filterService.bioSampleTotalCount}}</span>
                        }
                    </li>
                }
                @if (!isFilterSelected) {
                    <li class="rank-heading list-group-item"> KINGDOM </li>
                    <ng-container>
                        <ng-container *ngFor="let super of this.childTaxanomy.superkingdom">
                            @for (superchild of super.childData; track superchild.key) {
                                <li class="list-group-item d-flex justify-content-between align-items-center kingdom"
                                    style="cursor: pointer; padding: .75rem 0.25rem;" id="{{superchild.key}}-kingdom"
                                    (click)="showTaxonomyModal($event, super.rank, superchild.key, 'subkingdom')"
                                    (dblclick)="filterTaxonomy(super.rank, superchild.key, 'subkingdom',superchild.commonName.buckets[0].key, superchild.taxId.buckets[0].key)">
                                    {{superchild.key}} ({{superchild.commonName.buckets[0].key}})
                                    @if (isShowCount === true) {
                                        <span class="badge badge-pill badge-info">{{superchild.doc_count}}</span>
                                    }
                                </li>
                            }
                        </ng-container>
                    </ng-container>
                }
            </ul>
        </div>
    </div>
</div>
<div class="modal fade" id="taxonomyModal" tabindex="-1" role="dialog" aria-labelledby="ontologyModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title modal-heading" id="ontologyModal" modal-heading>Taxonomy
                    <i class="fa fa-info-circle" aria-hidden="true" data-toggle="tooltip" data-placement="right" title="1. Each taxonomy is denoted by Scientific name and common name in bracket.&#013;2. Double click to filter by taxonomy."></i>
                    <!-- <span id="tooltip" data-toggle="tooltip" data-placement="top" title="Double click to select rank">&#9432;</span> -->
                </h1>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="hideTaxaModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <ul id="myUL">
                    <!-- subkingdom level -->
                    @if (childTaxanomy.kingdom.length > 0) {
                        <ul class="nested subkingdom">
                            <li class="rank-heading">
                                {{currentTaxaOnExpand.childRank | uppercase}}
                            </li>
                            @for (king of childTaxanomy.kingdom; track king.rank) {
                                <ng-container>
                                    <ng-container>
                                        @for (kingchild of king.childData; track kingchild.key) {
                                            <li>
                                                @if ((king.childData.length == 1 && kingchild.key != 'Other') || (king.childData.length > 1 )) {
                                                    <i class="fas fa-plus-circle {{kingchild.key}}-{{king.rank}}"
                                                       (click)="getChildTaxonomyRankEvent($event, king.rank, kingchild.key,
                                                       'superphylum')"></i>
                                                    <span class="caret {{kingchild.key}}-{{king.rank}}" id="{{kingchild.key}}-{{king.rank}}"
                                                          (dblclick)="filterTaxonomy(king.rank, kingchild.key, 'superphylum',
                                                          kingchild.commonName.buckets[0].key,kingchild.taxId.buckets[0].key)">
                                                        {{kingchild.key}} ({{kingchild.commonName.buckets[0].key}})
                                                    </span>
                                                    <span class="badge badge-pill badge-info {{kingchild.key}}-{{king.rank}}">
                                                        @if (isShowCount === true) {
                                                            <span>{{kingchild.doc_count}}</span>
                                                        }
                                                    </span>
                                                    <hr class="{{kingchild.key}}-{{king.rank}}">
                                                }
                                                <!-- superphylum level -->
                                                @if (childTaxanomy.subkingdom.length > 0) {
                                                    <ul class="nested {{kingchild.key}}-superphylum">
                                                        @for (subkingdom of childTaxanomy.subkingdom; track subkingdom.parent) {
                                                            <ng-container>
                                                                @if (kingchild.key === subkingdom.parent) {
                                                                    <ng-container>
                                                                        @for (subkingchild of subkingdom.childData; track subkingchild.key) {
                                                                            <li>
                                                                                @if ((subkingdom.childData.length == 1 && subkingchild.key != 'Other') || (subkingdom.childData.length > 1 )) {
                                                                                    <i class="fas fa-plus-circle {{subkingchild.key}}-{{subkingdom.rank}}" (click)="getChildTaxonomyRankEvent($event, subkingdom.rank, subkingchild.key, 'phylum')"></i>
                                                                                    <span class="caret {{subkingchild.key}}-{{subkingdom.rank}}" id="{{subkingchild.key}}-{{subkingdom.rank}}"
                                                                                          (dblclick)="filterTaxonomy(subkingdom.rank, subkingchild.key, 'phylum',subkingchild.commonName.buckets[0].key,subkingchild.taxId.buckets[0].key)">
                                                                                            {{subkingchild.key}}
                                                                                        ({{subkingchild.commonName.buckets[0].key}})
                                                                                    </span>
                                                                                    <span class="badge badge-pill badge-info {{subkingchild.key}}-{{subkingdom.rank}}">
                                                                                        @if (isShowCount === true) {
                                                                                            <span>{{subkingchild.doc_count}}</span>
                                                                                        }
                                                                                    </span>
                                                                                    <hr class="{{subkingchild.key}}-{{subkingdom.rank}}">
                                                                                }
                                                                                <!-- phylum level -->
                                                                                @if (childTaxanomy.superphylum.length > 0) {
                                                                                    <ul class="nested {{subkingchild.key}}-phylum" >
                                                                                        @for (superphylum of childTaxanomy.superphylum; track superphylum.parent) {
                                                                                            <ng-container>
                                                                                                @if (subkingchild.key === superphylum.parent) {
                                                                                                    <ng-container>
                                                                                                        @for (superphylumchild of superphylum.childData; track superphylumchild.key) {
                                                                                                            <li>
                                                                                                                @if ((superphylum.childData.length == 1 && superphylumchild.key != 'Other') || (superphylum.childData.length > 1 )) {
                                                                                                                    <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, superphylum.rank, superphylumchild.key, 'subphylum')"></i>
                                                                                                                    <span class="caret" id="{{superphylumchild.key}}-{{superphylum.rank}}" (dblclick)="filterTaxonomy(superphylum.rank, superphylumchild.key, 'subphylum',superphylumchild.commonName.buckets[0].key,superphylumchild.taxId.buckets[0].key)">
                                                                                                                        {{superphylumchild.key}}
                                                                                                                        ({{superphylumchild.commonName.buckets[0].key}})
                                                                                                                    </span>
                                                                                                                    <span class="badge badge-pill badge-info">
                                                                                                                        @if (isShowCount === true) {
                                                                                                                            <span>{{superphylumchild.doc_count}}</span>
                                                                                                                        }
                                                                                                                    </span>
                                                                                                                    <hr>
                                                                                                                }
                                                                                                                <!-- subphylum level -->
                                                                                                                @if (childTaxanomy.phylum.length > 0) {
                                                                                                                    <ul class="nested {{superphylumchild.key}}-subphylum">
                                                                                                                        @for (phylum of childTaxanomy.phylum; track phylum.parent) {
                                                                                                                            <ng-container>
                                                                                                                                @if (superphylumchild.key === phylum.parent) {
                                                                                                                                    <ng-container>
                                                                                                                                        @for (phylChild of phylum.childData; track phylChild.key) {
                                                                                                                                            <li>
                                                                                                                                                @if ((phylum.childData.length == 1 && phylChild.key != 'Other') || (phylum.childData.length > 1 )) {
                                                                                                                                                    <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, phylum.rank, phylChild.key, 'superclass')"></i>
                                                                                                                                                    <span class="caret" id="{{phylChild.key}}-{{phylum.rank}}" (dblclick)="filterTaxonomy(phylum.rank, phylChild.key, 'superclass',phylChild.commonName.buckets[0].key,phylChild.taxId.buckets[0].key)">
                                                                                                                                                        {{phylChild.key}}
                                                                                                                                                        ({{phylChild.commonName.buckets[0].key}})
                                                                                                                                                    </span>
                                                                                                                                                    <span class="badge badge-pill badge-info">
                                                                                                                                                        @if (isShowCount === true) {
                                                                                                                                                            <span>{{phylChild.doc_count}}</span>
                                                                                                                                                        }
                                                                                                                                                    </span>
                                                                                                                                                    <hr>
                                                                                                                                                }
                                                                                                                                                <!-- superclass level -->
                                                                                                                                                @if (childTaxanomy.subphylum.length > 0) {
                                                                                                                                                    <ul class="nested {{phylChild.key}}-superclass">
                                                                                                                                                        @for (subphylum of childTaxanomy.subphylum; track subphylum.parent) {
                                                                                                                                                            <ng-container>
                                                                                                                                                                @if (phylChild.key === subphylum.parent) {
                                                                                                                                                                    <ng-container>
                                                                                                                                                                        @for (subphylumChild of subphylum.childData; track subphylumChild.key) {
                                                                                                                                                                            <li>
                                                                                                                                                                                @if ((subphylum.childData.length == 1 && subphylumChild.key != 'Other') || (subphylum.childData.length > 1 )) {
                                                                                                                                                                                    <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, subphylum.rank, subphylumChild.key, 'class')"></i>
                                                                                                                                                                                    <span class="caret" id="{{subphylumChild.key}}-{{subphylum.rank}}" (dblclick)="filterTaxonomy(subphylum.rank, subphylumChild.key, 'class',subphylumChild.commonName.buckets[0].key,subphylumChild.taxId.buckets[0].key)">
                                                                                                                                                                                    {{subphylumChild.key}}
                                                                                                                                                                                    ({{subphylumChild.commonName.buckets[0].key}})
                                                                                                                                                                                    </span>
                                                                                                                                                                                    <span class="badge badge-pill badge-info">
                                                                                                                                                                                        @if (isShowCount === true) {
                                                                                                                                                                                            <span>{{subphylumChild.doc_count}}</span>
                                                                                                                                                                                        }
                                                                                                                                                                                    </span>
                                                                                                                                                                                    <hr>
                                                                                                                                                                                }
                                                                                                                                                                                <!-- class level -->
                                                                                                                                                                                @if (childTaxanomy.superclass.length > 0) {
                                                                                                                                                                                    <ul class="nested {{subphylumChild.key}}-class">
                                                                                                                                                                                        @for (superclass of childTaxanomy.superclass; track superclass.parent) {
                                                                                                                                                                                            <ng-container>
                                                                                                                                                                                                @if (subphylumChild.key === superclass.parent) {
                                                                                                                                                                                                    <ng-container>
                                                                                                                                                                                                        @if (subphylumChild.key === superclass.parent) {
                                                                                                                                                                                                            @for (superclassChild of superclass.childData; track superclassChild.key) {
                                                                                                                                                                                                                <li>
                                                                                                                                                                                                                    @if ((superclass.childData.length == 1 && superclassChild.key != 'Other') || (superclass.childData.length > 1 )) {
                                                                                                                                                                                                                        <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, superclass.rank, superclassChild.key, 'infraclass')"></i>
                                                                                                                                                                                                                        <span class="caret" id="{{superclassChild.key}}-{{superclass.rank}}" (dblclick)="filterTaxonomy(superclass.rank, superclassChild.key, 'infraclass',superclassChild.commonName.buckets[0].key ,superclassChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                        {{superclassChild.key}}
                                                                                                                                                                                                                        ({{superclassChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                        <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                            @if (isShowCount === true) {
                                                                                                                                                                                                                                <span>{{superclassChild.doc_count}}</span>
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                        <hr>
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                    <!-- infraclass level -->
                                                                                                                                                                                                                    @if (childTaxanomy.class.length > 0) {
                                                                                                                                                                                                                        <ul class="nested {{superclassChild.key}}-infraclass">
                                                                                                                                                                                                                            @for (class of childTaxanomy.class; track class.parent) {
                                                                                                                                                                                                                                <ng-container>
                                                                                                                                                                                                                                    @if (superclassChild.key === class.parent) {
                                                                                                                                                                                                                                        <ng-container>
                                                                                                                                                                                                                                            @for (classChild of class.childData; track classChild.key) {
                                                                                                                                                                                                                                                <li>
                                                                                                                                                                                                                                                    @if ((class.childData.length == 1 && classChild.key != 'Other') || (class.childData.length > 1 )) {
                                                                                                                                                                                                                                                        <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, class.rank, classChild.key, 'cohort')"></i>
                                                                                                                                                                                                                                                        <span class="caret" id="{{classChild.key}}-{{class.rank}}" (dblclick)="filterTaxonomy(class.rank, classChild.key, 'cohort',classChild.commonName.buckets[0].key ,classChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                        {{classChild.key}}
                                                                                                                                                                                                                                                        ({{classChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                    </span>
                                                                                                                                                                                                                                                        <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                            @if (isShowCount === true) {
                                                                                                                                                                                                                                                                <span>{{classChild.doc_count}}</span>
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                        <hr>
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                    <!-- cohort level -->
                                                                                                                                                                                                                                                    @if (childTaxanomy.infraclass.length > 0) {
                                                                                                                                                                                                                                                        <ul class="nested {{classChild.key}}-cohort">
                                                                                                                                                                                                                                                            @for (infraclass of childTaxanomy.infraclass; track infraclass.parent) {
                                                                                                                                                                                                                                                                <ng-container>
                                                                                                                                                                                                                                                                    @if (classChild.key === infraclass.parent) {
                                                                                                                                                                                                                                                                        <ng-container>
                                                                                                                                                                                                                                                                            @for (infraclassChild of infraclass.childData; track infraclassChild.key) {
                                                                                                                                                                                                                                                                                <li>
                                                                                                                                                                                                                                                                                    @if ((infraclass.childData.length == 1 && infraclassChild.key != 'Other') || (infraclass.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                        <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, infraclass.rank, infraclassChild.key, 'subcohort')"></i>
                                                                                                                                                                                                                                                                                        <span class="caret" id="{{infraclassChild.key}}-{{infraclass.rank}}" (dblclick)="filterTaxonomy(infraclass.rank, infraclassChild.key, 'subcohort',infraclassChild.commonName.buckets[0].key,infraclassChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                        {{infraclassChild.key}}
                                                                                                                                                                                                                                                                                        ({{infraclassChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                    </span>
                                                                                                                                                                                                                                                                                        <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                            @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                <span>{{infraclassChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                        <hr>
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                    <!-- subcohort level -->
                                                                                                                                                                                                                                                                                    @if (childTaxanomy.cohort.length > 0) {
                                                                                                                                                                                                                                                                                        <ul class="nested {{infraclassChild.key}}-subcohort">
                                                                                                                                                                                                                                                                                            @for (cohort of childTaxanomy.cohort; track cohort.parent) {
                                                                                                                                                                                                                                                                                                <ng-container>
                                                                                                                                                                                                                                                                                                    @if (infraclassChild.key === cohort.parent) {
                                                                                                                                                                                                                                                                                                        <ng-container>
                                                                                                                                                                                                                                                                                                            @for (cohortChild of cohort.childData; track cohortChild.key) {
                                                                                                                                                                                                                                                                                                                <li>
                                                                                                                                                                                                                                                                                                                    @if ((cohort.childData.length == 1 && cohortChild.key != 'Other') || (cohort.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                        <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, cohort.rank, cohortChild.key, 'superorder')"></i>
                                                                                                                                                                                                                                                                                                                        <span class="caret" id="{{cohortChild.key}}-{{cohort.rank}}" (dblclick)="filterTaxonomy(cohort.rank, cohortChild.key, 'superorder',cohortChild.commonName.buckets[0].key, cohortChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                        {{cohortChild.key}}
                                                                                                                                                                                                                                                                                                                        ({{cohortChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                    </span>
                                                                                                                                                                                                                                                                                                                        <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                            @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                <span>{{cohortChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                        <hr>
                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                    <!-- superorder level -->
                                                                                                                                                                                                                                                                                                                    @if (childTaxanomy.subcohort.length > 0) {
                                                                                                                                                                                                                                                                                                                        <ul class="nested {{cohortChild.key}}-superorder">
                                                                                                                                                                                                                                                                                                                            @for (subcohort of childTaxanomy.subcohort; track subcohort.parent) {
                                                                                                                                                                                                                                                                                                                                <ng-container>
                                                                                                                                                                                                                                                                                                                                    @if (cohortChild.key === subcohort.parent) {
                                                                                                                                                                                                                                                                                                                                        <ng-container>
                                                                                                                                                                                                                                                                                                                                            @for (subcohortChild of subcohort.childData; track subcohortChild.key) {
                                                                                                                                                                                                                                                                                                                                                <li>
                                                                                                                                                                                                                                                                                                                                                    @if ((subcohort.childData.length == 1 && subcohortChild.key != 'Other') || (subcohort.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                        <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, subcohort.rank, subcohortChild.key, 'order')"></i>
                                                                                                                                                                                                                                                                                                                                                        <span class="caret" id="{{subcohortChild.key}}-{{subcohort.rank}}" (dblclick)="filterTaxonomy(subcohort.rank, subcohortChild.key, 'order',subcohortChild.commonName.buckets[0].key, subcohortChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                        {{subcohortChild.key}}
                                                                                                                                                                                                                                                                                                                                                        ({{subcohortChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                    </span>
                                                                                                                                                                                                                                                                                                                                                        <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                            @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                <span>{{subcohortChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                        <hr>
                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                    <!-- order level -->
                                                                                                                                                                                                                                                                                                                                                    @if (childTaxanomy.superorder.length > 0) {
                                                                                                                                                                                                                                                                                                                                                        <ul class="nested {{subcohortChild.key}}-order">
                                                                                                                                                                                                                                                                                                                                                            @for (superorder of childTaxanomy.superorder; track superorder.parent) {
                                                                                                                                                                                                                                                                                                                                                                <ng-container>
                                                                                                                                                                                                                                                                                                                                                                    @if (subcohortChild.key === superorder.parent) {
                                                                                                                                                                                                                                                                                                                                                                        <ng-container>
                                                                                                                                                                                                                                                                                                                                                                            @for (superorderChild of superorder.childData; track superorderChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                <li>
                                                                                                                                                                                                                                                                                                                                                                                    @if ((superorder.childData.length == 1 && superorderChild.key != 'Other') || (superorder.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                        <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, superorder.rank, superorderChild.key, 'suborder')"></i>
                                                                                                                                                                                                                                                                                                                                                                                        <span class="caret" id="{{superorderChild.key}}-{{superorder.rank}}" (dblclick)="filterTaxonomy(superorder.rank, superorderChild.key, 'parvorder', superorderChild.commonName.buckets[0].key,superorderChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                        {{superorderChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                        ({{superorderChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                    </span>
                                                                                                                                                                                                                                                                                                                                                                                        <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                            @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                <span>{{superorderChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                        <hr>
                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                    <!-- suborder level -->
                                                                                                                                                                                                                                                                                                                                                                                    @if (childTaxanomy.order.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                        <ul class="nested {{superorderChild.key}}-suborder">
                                                                                                                                                                                                                                                                                                                                                                                            @for (order of childTaxanomy.order; track order.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                    @if (superorderChild.key === order.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                        <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                            @for (orderChild of order.childData; track orderChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                <li>
                                                                                                                                                                                                                                                                                                                                                                                                                    @if ((order.childData.length == 1 && orderChild.key != 'Other') || (order.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                        <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, order.rank, orderChild.key, 'infraorder')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                        <span class="caret" id="{{orderChild.key}}-{{order.rank}}" (dblclick)="filterTaxonomy(order.rank, orderChild.key, 'infraorder',orderChild.commonName.buckets[0].key,orderChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                        {{orderChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                        ({{orderChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                    </span>
                                                                                                                                                                                                                                                                                                                                                                                                                        <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                            @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                <span>{{orderChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                        <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                    <!-- infraorder level -->
                                                                                                                                                                                                                                                                                                                                                                                                                    @if (childTaxanomy.suborder.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                        <ul class="nested {{orderChild.key}}-infraorder">
                                                                                                                                                                                                                                                                                                                                                                                                                            @for (parvorder of childTaxanomy.suborder; track parvorder.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                    @if (orderChild.key === parvorder.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                        <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                            @for (parvorderChild of parvorder.childData; track parvorderChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if ((parvorder.childData.length == 1 && parvorderChild.key != 'Other') || (parvorder.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                        <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, parvorder.rank, parvorderChild.key, 'parvorder')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span class="caret" id="{{parvorderChild.key}}-{{parvorder.rank}}" (dblclick)="filterTaxonomy(parvorder.rank, parvorderChild.key, 'parvorder',parvorderChild.commonName.buckets[0].key,parvorderChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                        {{parvorderChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                        ({{parvorderChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                    </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                            @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span>{{parvorderChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                        <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                    <!-- parvorder level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if (childTaxanomy.infraorder.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                        <ul class="nested {{parvorderChild.key}}-parvorder">
                                                                                                                                                                                                                                                                                                                                                                                                                                                            @for (suborder of childTaxanomy.infraorder; track suborder.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if (parvorderChild.key === suborder.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @for (suborderChild of suborder.childData; track suborderChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if ((suborder.childData.length == 1 && suborderChild.key != 'Other') || (suborder.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, suborder.rank, suborderChild.key, 'section')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span class="caret" id="{{suborderChild.key}}-{{suborder.rank}}" (dblclick)="filterTaxonomy(suborder.rank, suborderChild.key, 'section',suborderChild.commonName.buckets[0].key,suborderChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {{suborderChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ({{suborderChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span>{{suborderChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <!-- section level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if (childTaxanomy.parvorder.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <ul class="nested {{suborderChild.key}}-section">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @for (infraorder of childTaxanomy.parvorder; track infraorder.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if (suborderChild.key === infraorder.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @for (infraorderChild of infraorder.childData; track infraorderChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if ((infraorder.childData.length == 1 && infraorderChild.key != 'Other') || (infraorder.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, infraorder.rank, infraorderChild.key, 'subsection')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span class="caret" id="{{infraorderChild.key}}-{{infraorder.rank}}" (dblclick)="filterTaxonomy(infraorder.rank, infraorderChild.key, 'subsection',infraorderChild.commonName.buckets[0].key,infraorderChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {{infraorderChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ({{infraorderChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span>{{infraorderChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <!-- subsection level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if (childTaxanomy.section.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <ul class="nested {{infraorderChild.key}}-subsection">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @for (section of childTaxanomy.section; track section.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if (infraorderChild.key === section.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @for (sectionChild of section.childData; track sectionChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if ((section.childData.length == 1 && sectionChild.key != 'Other') || (section.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, section.rank, sectionChild.key, 'superfamily')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span class="caret" id="{{sectionChild.key}}-{{section.rank}}" (dblclick)="filterTaxonomy(section.rank, sectionChild.key, 'superfamily',sectionChild.commonName.buckets[0].key,sectionChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {{sectionChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ({{sectionChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span>{{sectionChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <!-- superfamily level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if (childTaxanomy.subsection.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <ul class="nested {{sectionChild.key}}-superfamily">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @for (subsection of childTaxanomy.subsection; track subsection.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if (sectionChild.key === subsection.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @for (subsectionChild of subsection.childData; track subsectionChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if ((subsection.childData.length == 1 && subsectionChild.key != 'Other') || (subsection.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, subsection.rank, subsectionChild.key, 'family')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span class="caret" id="{{subsectionChild.key}}-{{subsection.rank}}" (dblclick)="filterTaxonomy(subsection.rank, subsectionChild.key, 'family',subsectionChild.commonName.buckets[0].key,subsectionChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {{subsectionChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ({{subsectionChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span>{{subsectionChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <!-- family level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if (childTaxanomy.superfamily.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <ul class="nested {{subsectionChild.key}}-family">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @for (superfamily of childTaxanomy.superfamily; track superfamily.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @if (subsectionChild.key === superfamily.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @for (superfamily of childTaxanomy.superfamily; track superfamily.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (superfamilyChild of superfamily.childData; track superfamilyChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if ((superfamily.childData.length == 1 && superfamilyChild.key != 'Other') || (superfamily.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, superfamily.rank, superfamilyChild.key, 'subfamily')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="caret" id="{{superfamilyChild.key}}-{{superfamily.rank}}" (dblclick)="filterTaxonomy(superfamily.rank, superfamilyChild.key, 'subfamily',superfamilyChild.commonName.buckets[0].key ,superfamilyChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {{superfamilyChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ({{superfamilyChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span>{{superfamilyChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <!-- subfamily level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (childTaxanomy.family.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ul class="nested {{superfamilyChild.key}}-subfamily">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (family of childTaxanomy.family; track family.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (superfamilyChild.key === family.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (familyChild of family.childData; track familyChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if ((family.childData.length == 1 && familyChild.key != 'Other') || (family.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, family.rank, familyChild.key, 'tribe')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="caret" id="{{familyChild.key}}-{{family.rank}}" (dblclick)="filterTaxonomy(family.rank, familyChild.key, 'tribe',familyChild.commonName.buckets[0].key,familyChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {{familyChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ({{familyChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span>{{familyChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <!-- tribe level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (childTaxanomy.subfamily.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ul class="nested {{familyChild.key}}-tribe">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (subfamily of childTaxanomy.subfamily; track subfamily.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (familyChild.key === subfamily.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (subfamilyChild of subfamily.childData; track subfamilyChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if ((subfamily.childData.length == 1 && subfamilyChild.key != 'Other') || (subfamily.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, subfamily.rank, subfamilyChild.key, 'subtribe')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="caret" id="{{subfamilyChild.key}}-{{subfamily.rank}}" (dblclick)="filterTaxonomy(subfamily.rank, subfamilyChild.key, 'subtribe',subfamilyChild.commonName.buckets[0].key ,subfamilyChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {{subfamilyChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ({{subfamilyChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span>{{subfamilyChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <!-- subtribe level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (childTaxanomy.tribe.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ul class="nested {{subfamilyChild.key}}-subtribe">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (tribe of childTaxanomy.tribe; track tribe.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (subfamilyChild.key === tribe.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (tribeChild of tribe.childData; track tribeChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if ((tribe.childData.length == 1 && tribeChild.key != 'Other') || (tribe.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, tribe.rank, tribeChild.key, 'genus')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="caret" id="{{tribeChild.key}}-{{tribe.rank}}" (dblclick)="filterTaxonomy(tribe.rank, tribeChild.key, 'genus',tribeChild.commonName.buckets[0].key ,tribeChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {{tribeChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ({{tribeChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span>{{tribeChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <!-- genus level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (childTaxanomy.subtribe.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ul class="nested {{tribeChild.key}}-genus">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (subtribe of childTaxanomy.subtribe; track subtribe.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (tribeChild.key === subtribe.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (subtribeChild of subtribe.childData; track subtribeChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if ((subtribe.childData.length == 1 && subtribeChild.key != 'Other') || (subtribe.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, subtribe.rank, subtribeChild.key, 'series')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="caret" id="{{subtribeChild.key}}-{{subtribe.rank}}" (dblclick)="filterTaxonomy(subtribe.rank, subtribeChild.key, 'series',subtribeChild.commonName.buckets[0].key ,subtribeChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {{subtribeChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ({{subtribeChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span>{{subtribeChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <!-- series level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (childTaxanomy.genus.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ul class="nested {{subtribeChild.key}}-series">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (genus of childTaxanomy.genus; track genus.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (subtribeChild.key === genus.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (genusChild of genus.childData; track genusChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if ((genus.childData.length == 1 && genusChild.key != 'Other') || (genus.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, genus.rank, genusChild.key, 'subgenus')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="caret" id="{{genusChild.key}}-{{genus.rank}}" (dblclick)="filterTaxonomy(genus.rank, genusChild.key, 'subgenus',genusChild.commonName.buckets[0].key ,genusChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {{genusChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ({{genusChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span>{{genusChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <!-- subgenus level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (childTaxanomy.series.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ul class="nested {{genusChild.key}}-subgenus">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (series of childTaxanomy.series; track series.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (genusChild.key === series.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (seriesChild of series.childData; track seriesChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if ((series.childData.length == 1 && seriesChild.key != 'Other') || (series.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, series.rank, seriesChild.key, 'species_group')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="caret" id="{{seriesChild.key}}-{{series.rank}}" (dblclick)="filterTaxonomy(series.rank, seriesChild.key, 'species_group',seriesChild.commonName.buckets[0].key ,seriesChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {{seriesChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ({{seriesChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span>{{seriesChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <!-- species_group level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (childTaxanomy.subgenus.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ul class="nested {{seriesChild.key}}-species_group">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (subgenus of childTaxanomy.subgenus; track subgenus.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (seriesChild.key === subgenus.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (subgenusChild of subgenus.childData; track subgenusChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if ((subgenus.childData.length == 1 && subgenusChild.key != 'Other') || (subgenus.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, subgenus.rank, subgenusChild.key, 'species_subgroup')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="caret" id="{{subgenusChild.key}}-{{subgenus.rank}}" (dblclick)="filterTaxonomy(subgenus.rank, subgenusChild.key, 'species_subgroup',subgenusChild.commonName.buckets[0].key,subgenusChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {{subgenusChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ({{subgenusChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span>{{subgenusChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <!-- species_subgroup level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (childTaxanomy.species_group.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ul class="nested {{subgenusChild.key}}-species_subgroup">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (speciesgroup of childTaxanomy.species_group; track speciesgroup.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (subgenusChild.key === speciesgroup.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (speciesgroupChild of speciesgroup.childData; track speciesgroupChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if ((speciesgroup.childData.length == 1 && speciesgroupChild.key != 'Other') || (speciesgroup.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, speciesgroup.rank, speciesgroupChild.key, 'species')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="caret" id="{{speciesgroupChild.key}}-{{speciesgroup.rank}}" (dblclick)="filterTaxonomy(speciesgroup.rank, speciesgroupChild.key, 'species',speciesgroupChild.commonName.buckets[0].key ,speciesgroupChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {{speciesgroupChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ({{speciesgroupChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span>{{speciesgroupChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <!-- species level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (childTaxanomy.species_subgroup.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ul class="nested {{speciesgroupChild.key}}-species">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (speciessubgroup of childTaxanomy.species_subgroup; track speciessubgroup.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (speciesgroupChild.key === speciessubgroup.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (speciessubgroupChild of speciessubgroup.childData; track speciessubgroupChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if ((speciessubgroup.childData.length == 1 && speciessubgroupChild.key != 'Other') || (speciessubgroup.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, speciessubgroup.rank, speciessubgroupChild.key, 'subspecies')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="caret" id="{{speciessubgroupChild.key}}-{{speciessubgroup.rank}}" (dblclick)="filterTaxonomy(speciessubgroup.rank, speciessubgroupChild.key, 'subspecies',speciessubgroupChild.commonName.buckets[0].key,speciessubgroupChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {{speciessubgroupChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ({{speciessubgroupChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span>{{speciessubgroupChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <!-- subspecies level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (childTaxanomy.species.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ul class="nested {{speciessubgroupChild.key}}-subspecies">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (species of childTaxanomy.species; track species.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (speciessubgroupChild.key === species.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (speciesChild of species.childData; track speciesChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if ((species.childData.length == 1 && speciesChild.key != 'Other') || (species.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, species.rank, speciesChild.key, 'varietas')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="caret" id="{{speciesChild.key}}-{{species.rank}}" (dblclick)="filterTaxonomy(species.rank, speciesChild.key, 'varietas',speciesChild.commonName.buckets[0].key,speciesChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {{speciesChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ({{speciesChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span>{{speciesChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <!-- varietas level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (childTaxanomy.subspecies.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ul class="nested {{speciesChild.key}}-varietas">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (subspecies of childTaxanomy.subspecies; track subspecies.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (speciesChild.key === subspecies.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (subspeciesChild of subspecies.childData; track subspeciesChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if ((subspecies.childData.length == 1 && subspeciesChild.key != 'Other') || (subspecies.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="fas fa-plus-circle" (click)="getChildTaxonomyRankEvent($event, subspecies.rank, subspeciesChild.key, 'forma')"></i>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="caret" id="{{subspeciesChild.key}}-{{subspecies.rank}}" (dblclick)="filterTaxonomy(subspecies.rank, subspeciesChild.key, 'forma', subspeciesChild.commonName.buckets[0].key,subspeciesChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {{subspeciesChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ({{subspeciesChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span>{{subspeciesChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <!-- forma level -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (childTaxanomy.varietas.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ul class="nested {{subspeciesChild.key}}-forma">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (varietas of childTaxanomy.varietas; track varietas.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if (subspeciesChild.key === varietas.parent) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @for (varietasChild of varietas.childData; track varietasChild.key) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @if ((varietas.childData.length == 1 && varietasChild.key != 'Other') || (varietas.childData.length > 1 )) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="caret" id="{{varietasChild.key}}-{{varietas.rank}}" (dblclick)="filterTaxonomy(varietas.rank, varietasChild.key, 'forma',varietasChild.commonName.buckets[0].key,varietasChild.taxId.buckets[0].key)">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {{varietasChild.key}}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ({{varietasChild.commonName.buckets[0].key}})
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="badge badge-pill badge-info">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @if (isShowCount === true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span>{{varietasChild.doc_count}}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <hr>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                        </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                        </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                        </ul>
                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                </li>
                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                        </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                </ng-container>
                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                        </ul>
                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                </li>
                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                        </ng-container>
                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                </ng-container>
                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                        </ul>
                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                </li>
                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                        </ng-container>
                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                </ng-container>
                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                        </ul>
                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                </li>
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                        </ng-container>
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                </ng-container>
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                        </ul>
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                </li>
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                        </ng-container>
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                </ng-container>
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                        </ul>
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                </li>
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                        </ng-container>
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                </ng-container>
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                        </ul>
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                </li>
                                                                                                                                                                                                            }
                                                                                                                                                                                                        }
                                                                                                                                                                                                    </ng-container>
                                                                                                                                                                                                }
                                                                                                                                                                                            </ng-container>
                                                                                                                                                                                        }
                                                                                                                                                                                    </ul>
                                                                                                                                                                                }
                                                                                                                                                                            </li>
                                                                                                                                                                        }
                                                                                                                                                                    </ng-container>
                                                                                                                                                                }
                                                                                                                                                            </ng-container>
                                                                                                                                                        }
                                                                                                                                                    </ul>
                                                                                                                                                }
                                                                                                                                            </li>
                                                                                                                                        }
                                                                                                                                    </ng-container>
                                                                                                                                }
                                                                                                                            </ng-container>
                                                                                                                        }
                                                                                                                    </ul>
                                                                                                                }
                                                                                                            </li>
                                                                                                        }
                                                                                                    </ng-container>
                                                                                                }
                                                                                            </ng-container>
                                                                                        }
                                                                                    </ul>
                                                                                }
                                                                            </li>
                                                                        }
                                                                    </ng-container>
                                                                }
                                                            </ng-container>
                                                        }
                                                    </ul>
                                                }
                                            </li>
                                        }
                                    </ng-container>
                                </ng-container>
                            }
                        </ul>
                    }
                </ul>
            </div>
        </div>
    </div>
</div>
